{"ast":null,"code":"import _objectSpread from \"/Users/felixleber/super-supply/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/felixleber/super-supply/src/modules/StateManager.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport InfoCard from \"./views/InfoCard\";\nimport HorizontalLinearStepper from \"./views/Steppers\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCarrot, faTruck, faTruckLoading, faDollyFlatbed, faStore } from \"@fortawesome/free-solid-svg-icons\";\n\nconst styles = theme => ({\n  title: {\n    display: \"inline-block\",\n    padding: 30,\n    color: theme.palette.secondary.light,\n    fontSize: 48\n  }\n});\n\nconst availableUsers = [\"BananasCorpSouthAmerica\", \"TruckfleetCo\", \"WeArePackagingPower\", \"Middlepeople\", \"EinzelhandelsGmbH\"];\nvar transactionData = [{\n  id: \"Banas0012\",\n  date: \"2014-01-01T23:28:56.782Z\",\n  weight: \"303\",\n  handover: {\n    owner: \"BananasCorpSouthAmerica\",\n    next: \"Truckfleet co.\",\n    ready: false\n  },\n  location: {\n    lat: \"50.110924\",\n    long: \"8.682127\"\n  }\n}];\n\nclass StateManager extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeStep: 0,\n      bananas: null\n    };\n\n    this.getBananas = () => {\n      this.setState(_objectSpread({}, this.state, {\n        isFetching: true\n      }));\n      fetch(\"http://34.73.109.142:3000/api/Product/\" + this.props.id).then(response => response.json()).then(result => this.setState({\n        bananas: result,\n        isFetching: false\n      })).catch(e => console.log(e));\n    };\n\n    this.getBananas = () => {\n      if (this.state.bananas == null) {\n        return React.createElement(\"div\", {\n          className: this.props.classes.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \" Pending \");\n      } else {\n        return React.createElement(Grid, {\n          container: true,\n          spacing: 16,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, transactionData.map(transaction => React.createElement(Grid, {\n          item: true,\n          xs: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(InfoCard, {\n          title: this.getStepContent(this.getCurrentStep()),\n          transactionData: transaction,\n          key: transaction.id,\n          availableUsers: availableUsers,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }))));\n      }\n    };\n  }\n\n  // Responsible for network connection --> Periodic get request\n  componentDidMount() {\n    console.log(\"Did mounts\");\n    this.getBananas();\n    this.timer = setInterval(() => this.getBananas(), 5000);\n  }\n\n  componentWillUnmount() {\n    this.timer = null;\n  }\n\n  // UI Based stuff\n  getCurrentStep() {\n    if (this.state.bananas != null) {\n      switch (this.state.bananas.position) {\n        case \"PLANTATION\":\n          return 0;\n\n        case \"SHIPPING\":\n          return 1;\n\n        case \"PACKAGING\":\n          return 2;\n\n        case \"WHOLESALE\":\n          return 3;\n\n        case \"RETAIL\":\n          return 4;\n\n        default:\n          return 0;\n      }\n    }\n\n    return 0;\n  }\n\n  getStepContent(step) {\n    return this.getSteps()[this.state.activeStep];\n  }\n\n  getSteps() {\n    return [plantation, shipping, packaging, wholesale, retail];\n  }\n\n  render() {\n    console.log(this.state.bananas);\n    const classes = this.props.classes;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(HorizontalLinearStepper, {\n      activeStep: this.getCurrentStep(),\n      getSteps: this.getSteps(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, this.getStepContent(this.state.activeStep)), this.getBananas()));\n  }\n\n}\n\nStateManager.propTypes = {\n  classes: PropTypes.object\n};\nexport default withStyles(styles)(StateManager);\nconst plantation = React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 155\n  },\n  __self: this\n}, React.createElement(FontAwesomeIcon, {\n  icon: faCarrot,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 156\n  },\n  __self: this\n}), \" Plantation\");\nconst shipping = React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 161\n  },\n  __self: this\n}, React.createElement(FontAwesomeIcon, {\n  icon: faTruck,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 162\n  },\n  __self: this\n}), \" Shipping\");\nconst packaging = React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 167\n  },\n  __self: this\n}, React.createElement(FontAwesomeIcon, {\n  icon: faTruckLoading,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 168\n  },\n  __self: this\n}), \" Packaging\");\nconst wholesale = React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 173\n  },\n  __self: this\n}, React.createElement(FontAwesomeIcon, {\n  icon: faDollyFlatbed,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 174\n  },\n  __self: this\n}), \" Wholesale\");\nconst retail = React.createElement(\"span\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 179\n  },\n  __self: this\n}, React.createElement(FontAwesomeIcon, {\n  icon: faStore,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 180\n  },\n  __self: this\n}), \" Retail\");","map":{"version":3,"sources":["/Users/felixleber/super-supply/src/modules/StateManager.jsx"],"names":["React","Component","PropTypes","withStyles","InfoCard","HorizontalLinearStepper","Grid","FontAwesomeIcon","faCarrot","faTruck","faTruckLoading","faDollyFlatbed","faStore","styles","theme","title","display","padding","color","palette","secondary","light","fontSize","availableUsers","transactionData","id","date","weight","handover","owner","next","ready","location","lat","long","StateManager","state","activeStep","bananas","getBananas","setState","isFetching","fetch","props","then","response","json","result","catch","e","console","log","classes","map","transaction","getStepContent","getCurrentStep","componentDidMount","timer","setInterval","componentWillUnmount","position","step","getSteps","plantation","shipping","packaging","wholesale","retail","render","wrapper","propTypes","object"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport InfoCard from \"./views/InfoCard\";\nimport HorizontalLinearStepper from \"./views/Steppers\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCarrot,\n  faTruck,\n  faTruckLoading,\n  faDollyFlatbed,\n  faStore\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst styles = theme => ({\n  title: {\n    display: \"inline-block\",\n    padding: 30,\n    color: theme.palette.secondary.light,\n    fontSize: 48\n  }\n});\n\nconst availableUsers = [\n  \"BananasCorpSouthAmerica\",\n  \"TruckfleetCo\",\n  \"WeArePackagingPower\",\n  \"Middlepeople\",\n  \"EinzelhandelsGmbH\"\n];\n\nvar transactionData = [\n  {\n    id: \"Banas0012\",\n    date: \"2014-01-01T23:28:56.782Z\",\n    weight: \"303\",\n\n    handover: {\n      owner: \"BananasCorpSouthAmerica\",\n      next: \"Truckfleet co.\",\n      ready: false\n    },\n    location: {\n      lat: \"50.110924\",\n      long: \"8.682127\"\n    }\n  }\n];\n\nclass StateManager extends Component {\n  state = {\n    activeStep: 0,\n    bananas: null\n  };\n\n  // Responsible for network connection --> Periodic get request\n  componentDidMount() {\n    console.log(\"Did mounts\");\n    this.getBananas();\n    this.timer = setInterval(() => this.getBananas(), 5000);\n  }\n\n  componentWillUnmount() {\n    this.timer = null;\n  }\n\n  getBananas = () => {\n    this.setState({ ...this.state, isFetching: true });\n    fetch(\"http://34.73.109.142:3000/api/Product/\" + this.props.id)\n      .then(response => response.json())\n      .then(result => this.setState({ bananas: result, isFetching: false }))\n      .catch(e => console.log(e));\n  };\n\n  // UI Based stuff\n\n  getCurrentStep() {\n    if (this.state.bananas != null) {\n      switch (this.state.bananas.position) {\n        case \"PLANTATION\":\n          return 0;\n        case \"SHIPPING\":\n          return 1;\n        case \"PACKAGING\":\n          return 2;\n        case \"WHOLESALE\":\n          return 3;\n        case \"RETAIL\":\n          return 4;\n\n        default:\n          return 0;\n      }\n    }\n    return 0;\n  }\n\n  getStepContent(step) {\n    return this.getSteps()[this.state.activeStep];\n  }\n\n  getSteps() {\n    return [plantation, shipping, packaging, wholesale, retail];\n  }\n\n  getBananas = () => {\n    if (this.state.bananas == null) {\n      return <div className={this.props.classes.title}> Pending </div>;\n    } else {\n      return (\n        <Grid container spacing={16}>\n          {transactionData.map(transaction => (\n            <Grid item xs={3}>\n              <InfoCard\n                title={this.getStepContent(this.getCurrentStep())}\n                transactionData={transaction}\n                key={transaction.id}\n                availableUsers={availableUsers}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      );\n    }\n  };\n\n  render() {\n    console.log(this.state.bananas);\n    const { classes } = this.props;\n    return (\n      <React.Fragment>\n        <HorizontalLinearStepper\n          activeStep={this.getCurrentStep()}\n          getSteps={this.getSteps()}\n        />\n        <div className={classes.wrapper}>\n          <div className={classes.title}>\n            {this.getStepContent(this.state.activeStep)}\n          </div>\n          {this.getBananas()}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nStateManager.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default withStyles(styles)(StateManager);\n\nconst plantation = (\n  <span>\n    <FontAwesomeIcon icon={faCarrot} /> Plantation\n  </span>\n);\n\nconst shipping = (\n  <span>\n    <FontAwesomeIcon icon={faTruck} /> Shipping\n  </span>\n);\n\nconst packaging = (\n  <span>\n    <FontAwesomeIcon icon={faTruckLoading} /> Packaging\n  </span>\n);\n\nconst wholesale = (\n  <span>\n    <FontAwesomeIcon icon={faDollyFlatbed} /> Wholesale\n  </span>\n);\n\nconst retail = (\n  <span>\n    <FontAwesomeIcon icon={faStore} /> Retail\n  </span>\n);\n"]},"metadata":{},"sourceType":"module"}